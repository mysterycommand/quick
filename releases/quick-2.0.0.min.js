/**
 * Copyright (c) 2014, 2015 Diogo Schneider
 * 
 * Released under The MIT License (MIT)
 * 
 * https://github.com/dgsprb/quick
 */

(function(){var e={UP:0,DOWN:1,LEFT:2,RIGHT:3,A:4,B:5,X:6,Y:7,SELECT:8,START:9},g=function(){function b(){function l(){b()}for(var c=0;c<g.length;++c)if(!g[c].complete){setTimeout(l,100);return}r=x();a()}function a(){function b(){requestAnimationFrame(a)}if(k){var l=Date.now(),c=f.getContext("2d");e=!e;p.update();null!=y?y.sync()&&(y=null):(m&&(m=!1,r=r.getNext()),r.sync()?(m=!0,y=r.getTransition()):r.update());q.update();for(var d=0;d<z.length;++d)z[d].render(c);l=Date.now()-l;setTimeout(b,h-l)}}
function l(){function a(b){b()}window.requestAnimationFrame||(window.requestAnimationFrame=a)}function d(){if(c){var a,b;F?(b=window.innerWidth/f.width,window.innerHeight<f.height*b&&(b=window.innerHeight/f.height),a=f.width*b,b*=f.height):(a=window.innerWidth,b=window.innerHeight);C=a;D=b;f.style.width=a+"px";f.style.height=b+"px"}}var c=!0,f,e=!0,h,F=!1,g,p,k,m=!1,u="Game",w=1,C=0,D=0,z=[],r,x,q,y,A=0,B=0,E={init:function(a,c){x=a;f=c||document.getElementsByTagName("canvas")[0];A=f.width;B=f.height;
C=A;D=B;g=document.getElementsByTagName("img");p=new t;k=!0;q=new H;addEventListener("resize",d,!1);d();l();this.setFrameTime();for(var e=0;e<w;++e)z.push(new I);b()},addControllerDevice:function(a){p.addController(a)},clearCanvas:function(){f.height=f.height},fadeOut:function(){q.fadeOut()},getBoundary:function(){return new v(0,0,E.getCanvasWidth(),E.getCanvasHeight())},getCanvasBottom:function(){return B-1},getCanvasCenter:function(){return new n(this.getCanvasCenterX(),this.getCanvasCenterY())},
getCanvasCenterX:function(){return Math.floor(this.getCanvasWidth()/2)},getCanvasCenterY:function(){return Math.floor(this.getCanvasHeight()/2)},getCanvasHeight:function(){return B},getCanvasOffsetLeft:function(){return f.offsetLeft},getCanvasOffsetTop:function(){return f.offsetTop},getCanvasRight:function(){return A-1},getCanvasWidth:function(){return A},getController:function(a){return p.getController(a)},getEveryOther:function(){return e},getFrameTime:function(){return h},getPointer:function(a){return p.getPointer(a)},
getRealHeight:function(){return D},getRealWidth:function(){return C},load:function(){return localStorage.saveData&&JSON.parse(localStorage.saveData)},mute:function(){q.mute()},paint:function(a,b){z[b||0].add(a)},play:function(a){q.play(a)},playTheme:function(a){q.playTheme(a)},random:function(a){a=Math.random()*(a+1);return Math.floor(a)},save:function(a){localStorage.saveData=JSON.stringify(a)},setAutoScale:function(a){c=void 0==a||a},setFrameTime:function(a){h=a||30},setKeepAspect:function(a){F=
a||!1},setName:function(a){u=a;document.title=u},setNumberOfLayers:function(a){w=a},stopTheme:function(){q.stopTheme()}};return E}(),J=function(){function b(a,b,d){var c=document.createElement("canvas");c.width=a.width;c.height=a.height;var f=c.getContext("2d");f.translate(b?c.width:0,d?c.height:0);f.scale(b?-1:1,d?-1:1);f.drawImage(a,0,0);return c}return{flip:function(a){return b(a,!1,!0)},mirror:function(a){return b(a,!0,!1)},rotate:function(a,b){if(0==b%360)return a;var d=b*Math.PI/180,c=document.createElement("canvas");
90==b||270==b?(c.width=a.height,c.height=a.width):(c.width=a.width,c.height=a.height);var f=c.getContext("2d");f.translate(c.width/2,c.height/2);f.rotate(d);f.drawImage(a,-a.width/2,-a.height/2);return c}}}(),K=function(){function b(a){function b(a){a.preventDefault();d.buffer=!0}var d=this;this.buffer=!1;this.position=new n;addEventListener("mousedown",b,!1);addEventListener("mouseup",function(a){a.preventDefault();d.buffer=!1},!1);addEventListener("mousemove",function(a){a.preventDefault();d.updateCoordinates(a)},
!1);b(a)}b.prototype.getCommand=function(){return this.buffer};b.prototype.getX=function(){return this.position.getX()};b.prototype.getY=function(){return this.position.getY()};b.prototype.updateCoordinates=function(a){this.position.setPosition(a.x,a.y)};return b}(),L=function(){function b(a){function b(a){a.preventDefault();d.buffer=!0;d.updateCoordinates(a)}var d=this;this.buffer=!1;this.position=new n;addEventListener("touchstart",b,!1);addEventListener("touchend",function(a){a.preventDefault();
d.buffer=!1;d.updateCoordinates(a)},!1);addEventListener("touchmove",function(a){a.preventDefault();d.updateCoordinates(a)},!1);b(a)}b.prototype.getCommand=function(){return this.buffer};b.prototype.getX=function(){return this.position.getX()};b.prototype.getY=function(){return this.position.getY()};b.prototype.updateCoordinates=function(a){a=a.changedTouches[0];this.position.setPosition(a.pageX,a.pageY)};return b}(),M=function(){function b(){this.active=!1;this.device=null;this.hold=!1;this.position=
new n}b.prototype.getDown=function(){return this.active};b.prototype.getPush=function(){return this.active&&!this.hold};b.prototype.setDevice=function(a){this.device=a};b.prototype.update=function(){if(this.device){this.hold=!1;var a=this.active;(this.active=this.device.getCommand())&&a&&(this.hold=!0);var a=Math.floor((this.device.getX()-g.getCanvasOffsetLeft())*g.getCanvasWidth()/g.getRealWidth()),b=Math.floor((this.device.getY()-g.getCanvasOffsetTop())*g.getCanvasHeight()/g.getRealHeight());this.position.setPosition(a,
b)}};b.prototype.getPosition=function(){return this.position};return b}(),w=function(){function b(){this.active={};this.device=null;this.hold={}}b.prototype.keyDown=function(a){return this.active[a]};b.prototype.keyPush=function(a){return this.active[a]&&!this.hold[a]};b.prototype.setDevice=function(a){this.device=a};b.prototype.update=function(){if(this.device){this.hold={};var a=this.active;this.active=this.device.getCommands();for(var b in this.active)a[b]&&(this.hold[b]=!0)}};return b}(),N=function(){function b(a){this.id=
a||0}var a={};a[12]=e.UP;a[13]=e.DOWN;a[14]=e.LEFT;a[15]=e.RIGHT;a[0]=e.A;a[1]=e.B;a[2]=e.X;a[3]=e.Y;a[9]=e.START;a[8]=e.SELECT;b.prototype.getCommands=function(){var b={};-.5>t.getGamepadAxes(this.id)[1]?b[e.UP]=!0:.5<t.getGamepadAxes(this.id)[1]&&(b[e.DOWN]=!0);-.5>t.getGamepadAxes(this.id)[0]?b[e.LEFT]=!0:.5<t.getGamepadAxes(this.id)[0]&&(b[e.RIGHT]=!0);for(var d in a)t.getGamepadButtons(this.id,d)&&(b[a[d]]=!0);return b};return b}(),t=function(){function b(){this.controllers=[];this.controllerQueue=
[];this.controllerRequestQueue=[];this.pointers=[];this.pointerQueue=[];this.pointerRequestQueue=[];this.gamepads=0;this.waitKeyboard();this.waitMouse();this.waitTouch()}function a(){return navigator.getGamepads?navigator.getGamepads():[]}b.getGamepadAxes=function(b){return a()[b]?a()[b].axes:[]};b.getGamepadButtons=function(b,d){return a()[b]?a()[b].buttons[d].pressed:!1};b.prototype.addController=function(a){this.controllerQueue.push(a);this.checkControllerQueues()};b.prototype.addPointer=function(a){this.pointerQueue.push(a);
this.checkPointerQueues()};b.prototype.checkGamepads=function(){a()[this.gamepads]&&this.addController(new N(this.gamepads++))};b.prototype.checkControllerQueues=function(){if(0<this.controllerRequestQueue.length&&0<this.controllerQueue.length){var a=this.controllerRequestQueue.shift(),b=this.controllerQueue.shift();a.setDevice(b)}};b.prototype.checkPointerQueues=function(){if(0<this.pointerRequestQueue.length&&0<this.pointerQueue.length){var a=this.pointerRequestQueue.shift(),b=this.pointerQueue.shift();
a.setDevice(b)}};b.prototype.getController=function(a){a=a||0;if(this.controllers.length<a+1){var b=new w;this.controllers.push(b);this.controllerRequestQueue.push(b);this.checkControllerQueues()}return this.controllers[a]};b.prototype.getPointer=function(a){a=a||0;if(this.pointers.length<a+1){var b=new M;this.pointers.push(b);this.pointerRequestQueue.push(b);this.checkPointerQueues()}return this.pointers[a]};b.prototype.update=function(){this.checkGamepads();for(var a in this.controllers)this.controllers[a].update();
for(a in this.pointers)this.pointers[a].update()};b.prototype.waitKeyboard=function(){function a(c){removeEventListener("keydown",a,!1);b.addController(new O(c))}var b=this;addEventListener("keydown",a,!1)};b.prototype.waitMouse=function(){function a(c){removeEventListener("mousedown",a,!1);b.addPointer(new K(c))}var b=this;addEventListener("mousedown",a,!1)};b.prototype.waitTouch=function(){function a(c){removeEventListener("touchstart",a,!1);b.addPointer(new L(c))}var b=this;addEventListener("touchstart",
a,!1)};return b}(),O=function(){function b(b){function c(b){l[b.keyCode]||b.preventDefault();f.buffer[a[b.keyCode]]=!0}var f=this;this.buffer={};addEventListener("keydown",c,!1);addEventListener("keyup",function(b){f.buffer[a[b.keyCode]]=!1},!1);c(b)}var a={};a[38]=e.UP;a[69]=e.UP;a[73]=e.UP;a[40]=e.DOWN;a[68]=e.DOWN;a[75]=e.DOWN;a[37]=e.LEFT;a[83]=e.LEFT;a[74]=e.LEFT;a[39]=e.RIGHT;a[70]=e.RIGHT;a[76]=e.RIGHT;a[32]=e.A;a[18]=e.B;a[17]=e.X;a[16]=e.Y;a[13]=e.START;a[127]=e.SELECT;var l=[];l[116]=!0;
l[122]=!0;l[123]=!0;b.prototype.getCommands=function(){var a={},b;for(b in this.buffer)this.buffer[b]&&(a[b]=!0);return a};return b}(),I=function(){function b(){this.elements=[]}b.prototype.add=function(a){this.elements.push(a)};b.prototype.render=function(a){for(var b=0;b<this.elements.length;++b)this.elements[b].render(a);this.elements.length=0};return b}(),P=function(){function b(){this.delegate=null;this.gameObjects=[];this.nextObjects=[];this.expiration=-1;this.isExpired=!1;this.tick=-1;this.transition=
null}b.prototype.add=function(a){a.setScene(this);a.init();this.nextObjects.push(a);a.move(-1*a.getSpeedX(),-1*a.getSpeedY())};b.prototype.build=function(a,b,d,c){b=b||function(a){return new x(a)};for(var f=0;f<a.length;++f)for(var e=a[f],h=0;h<e.length;++h){var g=a[f][h];if(g){var g=b(g),k=d?d:g.getWidth(),p=c?c:g.getHeight();g.setTop(f*p);g.setLeft(h*k);this.add(g)}}};b.prototype.expire=function(){this.isExpired=!0};b.prototype.sync=function(){if(this.isExpired)return!0;for(var a=[],b=[],d=0;d<
this.gameObjects.length;++d){var c=this.gameObjects[d];c.update();c.sync()?c.getEssential()&&this.expire():(c.getSolid()&&b.push(c),a.push(c),g.paint(c,c.getLayerIndex()))}d=b.length;for(c=0;c<d-1;++c)for(var f=b[c],e=c+1;e<d;++e){var h=b[e];f.hasCollision(h)&&(f.onCollision(h),h.onCollision(f))}this.gameObjects=a.concat(this.nextObjects);this.nextObjects=[];++this.tick==this.expiration&&this.expire();return!1};b.prototype.getNext=function(){if(this.delegate&&this.delegate.getNext)return this.delegate.getNext()};
b.prototype.getObjectsWithTag=function(a){for(var b=[],d=0;d<this.gameObjects.length;++d){var c=this.gameObjects[d];c.hasTag(a)&&b.push(c)}return b};b.prototype.getTick=function(){return this.tick};b.prototype.getTransition=function(){return this.transition};b.prototype.setDelegate=function(a){this.delegate=a};b.prototype.setExpiration=function(a){this.expiration=a};b.prototype.setTransition=function(a){this.transition=a};b.prototype.update=function(){this.delegate&&this.delegate.update&&this.delegate.update()};
return b}(),H=function(){function b(){this.isMute=this.isFading=!1;this.nextThemeName=null;this.queue={};this.theme=null;this.volume=100}b.prototype.fadeOut=function(){this.theme&&(this.isFading=!0,this.volume=100)};b.prototype.mute=function(){(this.isMute=!this.isMute)?this.theme.pause():this.theme.play()};b.prototype.pause=function(){this.theme&&this.theme.pause()};b.prototype.play=function(a){this.isMute||(this.queue[a]=!0)};b.prototype.playTheme=function(a){this.theme&&0<this.theme.currentTime?
(this.nextThemeName=a,this.isFading||this.fadeOut()):(this.stopTheme(),this.theme=document.getElementById(a),0<this.theme.currentTime&&(this.theme.currentTime=0),this.isMute||(this.theme.volume=1,this.theme.play()))};b.prototype.resume=function(){this.isMute||this.theme.paused&&this.theme.play()};b.prototype.stopTheme=function(){this.theme&&(this.theme.pause(),this.theme.currentTime=0)};b.prototype.update=function(){for(var a in this.queue){var b=document.getElementById(a);b.pause();0<b.currentTime&&
(b.currentTime=0);b.volume=.3;b.play()}this.queue={};this.isFading&&(0<--this.volume?this.theme.volume=this.volume/100:(this.isFading=!1,this.theme=null,this.nextThemeName&&(this.playTheme(this.nextThemeName),this.nextThemeName=null)))};return b}(),n=function(){function b(a,b){this.setAccelerationX();this.setAccelerationY();this.setMaxSpeedX();this.setMaxSpeedY();this.setSpeedX();this.setSpeedY();this.setX(a||0);this.setY(b||0)}b.prototype.bounceX=function(){this.setSpeedX(-1*this.getSpeedX());this.moveX(this.getSpeedX())};
b.prototype.bounceY=function(){this.setSpeedY(-1*this.getSpeedY());this.moveY(this.getSpeedY())};b.prototype.getAccelerationX=function(){return this.accelerationX};b.prototype.getAccelerationY=function(){return this.accelerationY};b.prototype.getAngle=function(){return 180*Math.atan2(this.getSpeedY(),this.getSpeedX())/Math.PI};b.prototype.getCenter=function(){return this};b.prototype.getCenterX=function(){return this.x};b.prototype.getCenterY=function(){return this.y};b.prototype.getSpeedX=function(){return this.speedX};
b.prototype.getSpeedY=function(){return this.speedY};b.prototype.getX=function(){return this.x};b.prototype.getY=function(){return this.y};b.prototype.move=function(a,b){this.moveX(a);this.moveY(b)};b.prototype.moveX=function(a){this.setX(this.getX()+a)};b.prototype.moveY=function(a){this.setY(this.getY()+a)};b.prototype.setAccelerationX=function(a){this.accelerationX=a||0};b.prototype.setAccelerationY=function(a){this.accelerationY=a||0};b.prototype.setMaxSpeedX=function(a){this.maxSpeedX=a||0};
b.prototype.setMaxSpeedY=function(a){this.maxSpeedY=a||0};b.prototype.setPosition=function(a,b){this.setX(a);this.setY(b)};b.prototype.setPositionFromPoint=function(a){this.setX(a.getX());this.setY(a.getY())};b.prototype.setSpeedToAngle=function(a,b){var d=b*Math.PI/180;this.setSpeedX(a*Math.cos(d));this.setSpeedY(a*Math.sin(d))};b.prototype.setSpeedToPoint=function(a,b){var d=Math.abs(this.getCenterX()-b.getX())+Math.abs(this.getCenterY()-b.getY());this.setSpeedX((b.getX()-this.getCenterX())*a/d);
this.setSpeedY((b.getY()-this.getCenterY())*a/d)};b.prototype.setSpeedX=function(a){this.speedX=a||0};b.prototype.setSpeedY=function(a){this.speedY=a||0};b.prototype.setX=function(a){this.x=a};b.prototype.setY=function(a){this.y=a};b.prototype.stop=function(){this.setSpeedX(0);this.setSpeedY(0)};b.prototype.sync=function(){this.setSpeedX(this.getSpeedX()+this.accelerationX);this.maxSpeedX&&this.getSpeedX()>this.maxSpeedX&&this.setSpeedX(this.maxSpeedX);this.setSpeedY(this.getSpeedY()+this.accelerationY);
this.maxSpeedY&&this.getSpeedY()>this.maxSpeedY&&this.setSpeedY(this.maxSpeedY);this.move(this.getSpeedX(),this.getSpeedY());return!1};return b}(),v=function(){function b(a,b,d,c){n.call(this,a,b);this.setHeight(c||0);this.setWidth(d||0)}b.prototype=Object.create(n.prototype);b.prototype.bounceFrom=function(a){(0>this.getSpeedX()&&a.getLeft()||0<this.getSpeedX()&&a.getRight())&&this.bounceX();(0>this.getSpeedY()&&a.getTop()||0<this.getSpeedY()&&a.getBottom())&&this.bounceY()};b.prototype.getBottom=
function(){return this.getY()+this.getHeight()-1};b.prototype.getCenter=function(){return new n(this.getCenterX(),this.getCenterY())};b.prototype.getCenterX=function(){return this.getX()+this.getHalfWidth()};b.prototype.getCenterY=function(){return this.getY()+this.getHalfHeight()};b.prototype.getCollision=function(a){var b=new Q,d=this.getTop(),c=this.getRight(),e=this.getBottom(),g=this.getLeft(),h=this.getCenterX(),k=this.getCenterY(),m=a.getTop(),p=a.getRight(),n=a.getBottom();a=a.getLeft();h<=
a&&c<p?b.setRight():h>=p&&g>a&&b.setLeft();k<=m&&e<n?b.setBottom():k>=n&&d>m&&b.setTop();return b};b.prototype.getHalfHeight=function(){return Math.floor(this.getHeight()/2)};b.prototype.getHalfWidth=function(){return Math.floor(this.getWidth()/2)};b.prototype.getHeight=function(){return this.height};b.prototype.getLeft=function(){return this.getX()};b.prototype.getRight=function(){return this.getX()+this.getWidth()-1};b.prototype.getTop=function(){return this.getY()};b.prototype.getWidth=function(){return this.width};
b.prototype.hasCollision=function(a){return!(this.getLeft()>a.getRight()||this.getRight()<a.getLeft()||this.getTop()>a.getBottom()||this.getBottom()<a.getTop())};b.prototype.increase=function(a,b){this.increaseWidth(a);this.increaseHeight(b)};b.prototype.increaseHeight=function(a){this.setHeight(this.getHeight()+a)};b.prototype.increaseWidth=function(a){this.setWidth(this.getWidth()+a)};b.prototype.setBottom=function(a){this.setY(a-this.getHeight()+1)};b.prototype.setCenter=function(a,b){this.setCenterX(a);
this.setCenterY(b)};b.prototype.setCenterFromPoint=function(a){this.setCenterX(a.getX());this.setCenterY(a.getY())};b.prototype.setCenterX=function(a){this.setX(a-this.getHalfWidth())};b.prototype.setCenterY=function(a){this.setY(a-this.getHalfHeight())};b.prototype.setHeight=function(a){this.height=a};b.prototype.setLeft=function(a){this.setX(a)};b.prototype.setRight=function(a){this.setX(a-this.getWidth()+1)};b.prototype.setSize=function(a,b){this.setWidth(a);1<arguments.length?this.setHeight(b):
this.setHeight(a)};b.prototype.setTop=function(a){this.setY(a)};b.prototype.setWidth=function(a){this.width=a};return b}(),Q=function(){function b(){this.isTop=this.isRight=this.isLeft=this.isBottom=!1}b.prototype.getBottom=function(){return this.isBottom};b.prototype.getLeft=function(){return this.isLeft};b.prototype.getRight=function(){return this.isRight};b.prototype.getTop=function(){return this.isTop};b.prototype.setBottom=function(a){this.isBottom=a||!0};b.prototype.setLeft=function(a){this.isLeft=
a||!0};b.prototype.setRight=function(a){this.isRight=a||!0};b.prototype.setTop=function(a){this.isTop=a||!0};return b}(),u=function(){function b(a,b){this.duration=b||0;this.image=a||new Image}b.prototype.getDuration=function(){return this.duration};b.prototype.getHeight=function(){return this.image.height};b.prototype.getImage=function(){return this.image};b.prototype.getWidth=function(){return this.image.width};return b}(),G=function(){function b(a){this.setFrames(a)}b.prototype.getHeight=function(){return this.frame.getHeight()};
b.prototype.getImage=function(){return this.frame.getImage()};b.prototype.getWidth=function(){return this.frame.getWidth()};b.prototype.setFrameIndex=function(a){return a<this.frames.length&&-1<a?(this.frameIndex=a,this.tick=0,this.frame=this.frames[a],!0):!1};b.prototype.setFrames=function(a){this.frames=a||[new u];this.setFrameIndex(0)};b.prototype.update=function(){var a=!1;if(this.frame.getDuration()&&++this.tick>this.frame.getDuration()){var b=this.frameIndex+1;b==this.frames.length&&(a=!0,b=
0);this.setFrameIndex(b)}return a};return b}(),m=function(){function b(){v.call(this);this.delegate=this.boundary=this.animation=null}b.prototype=Object.create(v.prototype);b.prototype.getImage=function(){return this.animation.getImage()};b.prototype.offBoundary=function(){this.delegate&&this.delegate.offBoundary?this.delegate.offBoundary():this.expire()};b.prototype.onAnimationLoop=function(){this.delegate&&this.delegate.onAnimationLoop&&this.delegate.onAnimationLoop()};b.prototype.render=function(a){if(this.animation){var b=
this.getImage(),d=Math.floor(this.getX()),c=Math.floor(this.getY());a.drawImage(b,d,c,this.getWidth(),this.getHeight())}};b.prototype.setAnimation=function(a){this.animation!=a&&(this.animation=a,this.animation.setFrameIndex(0),this.setHeight(this.animation.getHeight()),this.setWidth(this.animation.getWidth()))};b.prototype.setBoundary=function(a){this.boundary=a||g.getBoundary()};b.prototype.setDelegate=function(a){this.delegate=a};b.prototype.setImage=function(a){this.setAnimation(new G([new u(a)]))};
b.prototype.setImageId=function(a){this.setImage(document.getElementById(a))};b.prototype.sync=function(){var a=v.prototype.sync.call(this);if(this.animation&&this.animation.update())this.onAnimationLoop();this.boundary&&!this.hasCollision(this.boundary)&&this.offBoundary();return a};return b}(),k=function(){function b(){m.call(this);this.color=null;this.layerIndex=0;this.isEssential=!1;this.expiration=-1;this.isSolid=this.isExpired=!1;this.isVisible=!0;this.scene=null;this.tags={};this.tick=0}b.prototype=
Object.create(m.prototype);b.prototype.addTag=function(a){this.tags[a]=!0};b.prototype.expire=function(){this.isExpired=!0};b.prototype.getColor=function(){return this.color};b.prototype.getEssential=function(){return this.isEssential};b.prototype.getExpired=function(){return this.isExpired};b.prototype.getLayerIndex=function(){return this.layerIndex};b.prototype.getScene=function(){return this.scene};b.prototype.getSolid=function(){return this.isSolid};b.prototype.getTick=function(){return this.tick};
b.prototype.hasTag=function(a){return this.tags[a]};b.prototype.init=function(){this.delegate&&this.delegate.init&&this.delegate.init()};b.prototype.onCollision=function(a){this.delegate&&this.delegate.onCollision&&this.delegate.onCollision(a)};b.prototype.setColor=function(a){this.color=a};b.prototype.setEssential=function(a){this.isEssential=void 0==a||a};b.prototype.setLayerIndex=function(a){this.layerIndex=a||0};b.prototype.setScene=function(a){this.scene=a};b.prototype.setSolid=function(a){this.isSolid=
void 0==a||a};b.prototype.setVisible=function(a){this.isVisible=void 0==a||a};b.prototype.setExpiration=function(a){this.expiration=a};b.prototype.render=function(a){if(this.isVisible){if(this.color){var b=Math.floor(this.getX()),d=Math.floor(this.getY());a.fillStyle=this.color;a.fillRect(b,d,this.getWidth(),this.getHeight())}m.prototype.render.call(this,a)}};b.prototype.sync=function(){if(this.getExpired())return!0;++this.tick==this.expiration&&this.expire();return m.prototype.sync.call(this)};b.prototype.update=
function(){this.delegate&&this.delegate.update&&this.delegate.update()};return b}(),R=function(){function b(a){k.call(this);this.setString(a||"")}b.prototype=Object.create(k.prototype);b.prototype.getString=function(){return this.string};b.prototype.parse=function(a){for(var b=0,d=0,c=0,e=0,g=0;g<this.string.length;++g){var h=this.string[g];" "==h?c+=4:"\n"==h?(c=0,e+=b+0):(h=document.getElementById(h+"Font"),a&&a.drawImage(h,this.getX()+c,this.getY()+e,h.width,h.height),c+=h.width+0,c>d&&(d=c),h.height>
b&&(b=h.height))}this.setWidth(d);this.setHeight(e+b)};b.prototype.render=function(a){this.parse(a)};b.prototype.setString=function(a){this.string=a;this.parse()};return b}(),x=function(){function b(a){k.call(this);this.setImageId(a)}b.prototype=Object.create(k.prototype);return b}(),S=function(){function b(){k.call(this);this.setColor("Black");this.setHeight(g.getCanvasHeight());this.increase=g.getCanvasWidth()/32}b.prototype=Object.create(k.prototype);b.prototype.sync=function(){if(this.getWidth()>
g.getCanvasWidth())return!0;this.increaseWidth(this.increase);g.paint(this);return k.prototype.sync.call(this)};return b}();window.com||(window.com={});window.com.dgsprb||(window.com.dgsprb={});window.com.dgsprb.quick={Animation:G,BaseTile:x,BaseTransition:S,CommandEnum:e,Controller:w,Frame:u,GameObject:k,ImageFactory:J,Point:n,Quick:g,Rect:v,Scene:P,Sprite:m,Text:R}})();
